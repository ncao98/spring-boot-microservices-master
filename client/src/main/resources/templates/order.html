<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Microservice Client</title>
    <link th:rel="stylesheet" th:href="@{/webjars/bootstrap/4.1.3/css/bootstrap.min.css} "/>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link href="../static/css/style.css" th:href="@{/css/style.css}" rel="stylesheet"/>

</head>
<body>
<div th:replace="fragments/header :: header"></div>
<div class="List_articles">
    <h1>Liste des articles de la commande : </h1>
</div>
<br>
<div class="container mainOrder">
    <div th:each="product : ${infoProducts}" class="lucie">
        <div class="item-aa">
            <img id="photo" th:src="${product.illustration}"/>
        </div>
        <div class="informations">
            <div class="item-bb">
                <h1 th:text="${product.name}"></h1>
            </div>

            <div class="item-dd">
                <p th:text="${product.description}"></p>
            </div>
            <div class="item-yy">
                <p th:text=" 'Prix :' + ${product.price}+' €'"></p>
            </div>
        </div>
    </div>
    <div class="end_list">
        <div class="item-jj">
            <h3>Prix total : <p2 th:text="${total}+' €'"></p2>
            </h3>
        </div>
        <div class="btns">
            <div class="item-h">
                <button type="button" class="btn btn-secondary btn-sm" >Annuler la commande</button>
            </div>
            <div class="item-ii">
                <!-- Button trigger modal -->
                <button id ="btnPopUp" type="button" class="btn btn-secondary btn-sm">
                    Payer la commande
                </button>
               <div id="overlay" class="overlay">
                   <div id="popup" class="popup">
                       <h2>
                           Merci pour votre commande !
                       </h2>
                       <p1>
                           Votre commande a bien été payée.
                           <br>
                       </p1>


                       <button id="btnClose" class="btn btn-secondary btn-sm">
                           <a th:href="@{|/empty-order/${cart.id}|}">
                               Retourner à l'accueil du site
                           </a>
                       </button>
                   </div>
               </div>
            </div>
        </div>
    </div>
</div>






<div th:replace="fragments/footer :: footer"></div>
<script th:inline="javascript">

    var btnPopUp = document.getElementById('btnPopUp');
    var overlay = document.getElementById('overlay');
    var btnClose = document.getElementById('btnClose');

    btnPopUp.addEventListener('click',openModal);


    function openModal(){
    overlay.style.display='block';
    }

</script>

</body>
</html>